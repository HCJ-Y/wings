(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-news-news"],{"177c":function(t,i,e){"use strict";e("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{height:50,show:!1,animationData:{}}},props:{list:{type:Array,default:function(){return[{}]}},top:{type:String,default:"44px"}},onShow:function(){},mounted:function(){this.getstatusBarHeight();var t=uni.createAnimation({duration:300,timingFunction:"linear"});this.animation=t},methods:{groupChat:function(){this.$config.navTo("pages/news/create_group",{type:"创建群聊"})},goSearchFriends:function(){this.$config.navTo("pages/commonpage/search_people")},createSeat:function(){this.$config.navTo("pages/index/seats")},saoyisao:function(){this.$fc.saoyisao()},showAnimation:function(){this.animation.opacity(1).step(),this.animationData=this.animation.export()},hideAnimation:function(){this.animation.opacity(0).step(),this.animationData=this.animation.export()},moveHandle:function(t){this.hiddenTab()},showTab:function(){var t=this;this.show=!0,setTimeout((function(){t.showAnimation()}),30)},hiddenTab:function(){this.show=!1,this.hideAnimation()},getstatusBarHeight:function(){var t=uni.getSystemInfoSync();this.height=t.safeArea.top+t.windowTop}}};i.default=n},2644:function(t,i,e){var n=e("a488");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("967d").default;a("0908910e",n,!0,{sourceMap:!1,shadowMode:!1})},"30ac":function(t,i,e){"use strict";var n=e("35c7"),a=e.n(n);a.a},3106:function(t,i,e){"use strict";e("6a54");var n=e("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("bf0f"),e("2797"),e("aa9c");var a=n(e("2634")),o=n(e("2fdc")),s=n(e("faed")),r={components:{tabbar:s.default},data:function(){return{city_show:!1,cindex:1,cchatindex:0,list:[],page:1,longTapItemKey:0,userInfo:{},msglist:[],groupchatlist:[],strangerchatlist:[],citys:[],scitys:[],show_notice:!1,to_uid:"",group_id:"",keyword:"",city_index:0,is_ss:!0,all_read_num:0,group_read_num:0,newsimg:"/static/imgs/nav-bar/xx_off.png"}},onLoad:function(){var t=this,i=this;this.userInfo=uni.getStorageSync("userInfo")||{},this.scitys=uni.getStorageSync("home_scitys")||[],this.$config.getMyInfoHttp((function(t){i.userInfo=t})),uni.$on("bindclient_id",(function(i){var e=uni.getStorageSync("userInfo")||{};t.socket.isHave&&(t.socket.sendMsg({type:"chatlist",uid:e.id,backpage:""!=t.to_uid?1:null,to_uid:t.to_uid}),t.socket.sendMsg({type:"groupchatlist",uid:t.userInfo.id,gropbackpage:""!=t.group_id?1:null,group_id:t.group_id}),t.socket.sendMsg({type:"strangerchatlist",uid:t.userInfo.id})),t.bindgrouplistHttp()})),uni.$on("onGetMsg",this.getMsg)},onShow:function(){var t=this;this.socket.isHave&&(this.socket.sendMsg({type:"chatlist",uid:this.userInfo.id,backpage:""!=this.to_uid?1:null,to_uid:this.to_uid}),this.socket.sendMsg({type:"groupchatlist",uid:this.userInfo.id,gropbackpage:""!=this.group_id?1:null,group_id:this.group_id}),this.socket.sendMsg({type:"strangerchatlist",uid:this.userInfo.id})),setTimeout((function(){t.bindgrouplistHttp()}),1e3)},onHide:function(){this.to_uid="",this.all_read_num>0||this.group_read_num>0?(getApp().globalData.is_sansuo=!0,this.newsimg="/static/imgs/1.gif"):(getApp().globalData.is_sansuo=!1,console.log("++++++++++++++++"),this.newsimg="/static/imgs/nav-bar/xx_off.png")},methods:{getMsg:function(t){console.log(t),"chatlist"===t.type?(this.all_read_num=t.all_read_num,this.msglist=t.content,this.$forceUpdate()):"event002"===t.type||"say"===t.type?this.socket.sendMsg({type:"chatlist",uid:this.userInfo.id}):"groupchatlist"===t.type?(this.group_read_num=t.all_read_num,this.groupchatlist=t.content):"strangerchatlist"===t.type?this.strangerchatlist=t.content:("event004"===t.type||"groupchat"===t.type)&&this.socket.sendMsg({type:"groupchatlist",uid:this.userInfo.id}),this.$forceUpdate()},clickChat:function(t,i){"SINGLE"===i?this.$config.navTo("pages/chatWindow/chatWindow",{uid:t.to_uid,title:t.to_nickname,chat_id:t.id}):"GROUP"===i?this.$config.navTo("pages/chatWindow/chatWindow",{group_id:t.group_id,title:t.group_name,is_group:1}):"STRANGER"===i&&this.$config.navTo("pages/chatWindow/chatWindow",{uid:t.to_uid,title:t.to_nickname,chat_id:t.id,is_stranger:1})},bindgrouplistHttp:function(){var t=this;return(0,o.default)((0,a.default)().mark((function i(){return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t,i.next=3,t.$http({url:"/api/chatgroup/bindgrouplist"},!1);case 3:i.sent;case 4:case"end":return i.stop()}}),i)})))()},longpressItem:function(t,i,e){this.longTapItemKey=i},change_city:function(t){this.city_index=t.index},confirm_city:function(t){var i=this,e=!1;this.scitys.forEach((function(t){t.id==i.citys[i.city_index].id&&(e=!0)})),e||this.scitys.push(this.citys[this.city_index]),this.city_show=!1,this.gethelpListHttp()}}};i.default=r},"35c7":function(t,i,e){var n=e("6a7f");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("967d").default;a("6d135109",n,!0,{sourceMap:!1,shadowMode:!1})},"3c54":function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}));var n={uniNavBar:e("1b52").default,uniListWx:e("fb71").default,uniListChatWx:e("9108").default,topRightToolWx:e("59f6").default,uEmpty:e("4b8d").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"flex-col align-center bcF5F5F5 pb20",staticStyle:{"min-height":"100vh"}},[e("uni-nav-bar",{attrs:{color:"#fff",fixed:!0,"status-bar":!0,shadow:!1,border:!1}},[e("v-uni-view",{staticClass:"flex-row center flex1"},[e("v-uni-view",{staticClass:"hb100 w300 flex-row align-center"},t._l(t.$t("qxx"),(function(i,n){return e("v-uni-view",{key:n,staticClass:"fs32 flex1 tac pr center hb100",class:t.cchatindex==n?"fwb c333":"c999",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.cchatindex=n,t.show_operation=!1,t.is_ss=!1}}},[e("v-uni-view",{staticClass:"br10",class:(t.all_read_num>0&&0==t.cchatindex||t.group_read_num>0&&1==t.cchatindex)&&t.cchatindex!=n?"headerBox":"lh50 plr10"},[t._v(t._s(i))]),e("v-uni-view",{staticClass:"w32 h8 br5 pa b0",class:t.cchatindex==n?"bc8000FF":"bcfff"})],1)})),1)],1),0===t.cchatindex?e("v-uni-image",{staticClass:"wh40 mr16",attrs:{slot:"right",src:"/static/imgs/index_add.png",mode:""},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$config.navTo("pages/news/create_group",{type:"创建群聊"})}},slot:"right"}):t._e()],1),e("v-uni-view",{staticClass:"flex-col align-center wb100 mb200"},[e("uni-list-wx",{staticClass:"wb100",attrs:{border:!1}},[1===t.cchatindex?e("uni-list-wx",{staticClass:"wb100",attrs:{border:!1}},t._l(t.msglist,(function(i,n){return i.content?e("v-uni-view",{key:n,staticClass:"wb100 bbF5F5F51"},[e("uni-list-chat-wx",{attrs:{itemKey:n,item:i,longTapItemKey:t.longTapItemKey,windowType:"SINGLE",clickable:!0,title:i.to_nickname,time:t.$config.getDateBeforeNow(i.created_at),"badge-positon":"left","badge-text":i.read_num},on:{longpressItem:function(i){arguments[0]=i=t.$handleEvent(i),t.longpressItem.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickChat(i,"SINGLE")}}})],1):t._e()})),1):t._e(),0===t.cchatindex?e("uni-list-wx",{staticClass:"wb100 ",attrs:{border:!1}},t._l(t.groupchatlist,(function(i,n){return i.lastmsg?e("v-uni-view",{key:n,staticClass:"wb100 bbF5F5F51"},[e("uni-list-chat-wx",{attrs:{itemKey:n,item:i,longTapItemKey:t.longTapItemKey,windowType:"GROUP",clickable:!0,title:i.group_remark||i.group_name,time:t.$config.getDateBeforeNow(i.created_at),"badge-positon":"left","badge-text":i.unreadnum},on:{longpressItem:function(i){arguments[0]=i=t.$handleEvent(i),t.longpressItem.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickChat(i,"GROUP")}}})],1):t._e()})),1):t._e()],1)],1),e("top-right-tool-wx",{ref:"trtw",attrs:{top:t.$config.base.systemInfo.navBarH+"px"}}),0==t.groupchatlist.length&&0===t.cchatindex||0==t.msglist.length&&1===t.cchatindex?e("u-empty",{attrs:{width:"200",text:" ",textColor:"#333",marginTop:"200",mode:"list",icon:"/static/imgs/empty.png"}}):t._e(),0===t.cindex?e("v-uni-image",{staticClass:"wh100 pf r30 b200 z999",attrs:{src:"/static/imgs/qzfb.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$config.navTo("pages/index/release_assist")}}}):t._e(),e("tabbar",{staticClass:"wb100",attrs:{currentTab:3,newsimg:t.newsimg}})],1)},o=[]},"3d60":function(t,i,e){"use strict";e.r(i);var n=e("9e73"),a=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},4509:function(t,i,e){var n=e("c86c");i=n(!1),i.push([t.i,".top-right-tool-wx[data-v-6300b5bc]{width:100px;position:fixed;z-index:9999;top:-24px;right:8px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;opacity:0}.top-right-tool-wx-model[data-v-6300b5bc]{background-color:transparent;position:fixed;top:0;bottom:0;right:0;left:0;z-index:9998}.top-right-tool-wx-icon[data-v-6300b5bc]{margin-top:-20px;width:0;height:0;border:10px solid transparent;border-bottom-color:#4c4c4c;margin-left:auto;margin-right:10px}.top-right-tool-wx-list[data-v-6300b5bc]{width:100%;background-color:#4c4c4c;border-radius:5px}.top-right-tool-wx-list-item[data-v-6300b5bc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-right:0}.top-right-tool-wx-list-item-icon[data-v-6300b5bc]{width:19px;height:19px;margin-right:14px;color:#fff}.top-right-tool-wx-list-item-icon .wxfont[data-v-6300b5bc]{font-size:20px}.top-right-tool-wx-list-item .text[data-v-6300b5bc]{color:#fff;font-size:14px;border-bottom:1px #535353 solid;padding:10px %?0?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center}.top-right-tool-wx-list-item:nth-last-child(1) .text[data-v-6300b5bc]{border:none}",""]),t.exports=i},5162:function(t,i,e){"use strict";var n=e("2644"),a=e.n(n);a.a},"52ee":function(t,i,e){"use strict";var n=e("9006"),a=e.n(n);a.a},5319:function(t,i,e){"use strict";e.r(i);var n=e("9806"),a=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},"53ad":function(t,i,e){"use strict";e.r(i);var n=e("5916"),a=e("a3e9");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("5162");var s=e("828b"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"8a7054ba",null,!1,n["a"],void 0);i["default"]=r.exports},5916:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.show?e("v-uni-view",{on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.moveHandle("touchmove")},click:function(i){arguments[0]=i=t.$handleEvent(i),t.moveHandle("click")}}},[e("v-uni-view",{staticClass:"openTool-wx",attrs:{animation:t.animationData}},[t.data?e("v-uni-view",{staticClass:"openTool-wx-list"},[e("v-uni-view",{staticClass:"openTool-wx-list-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.zhiding.apply(void 0,arguments)}}},[1===t.data.is_top?e("v-uni-view",{staticClass:"text"},[t._v("取消置顶")]):e("v-uni-view",{staticClass:"text"},[t._v("置顶该聊天")])],1),e("v-uni-view",{staticClass:"openTool-wx-list-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.shanchu.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"text"},[t._v("删除该聊天")])],1)],1):t._e()],1),e("v-uni-view",{staticClass:"openTool-wx-model"})],1):t._e()},a=[]},"59f6":function(t,i,e){"use strict";e.r(i);var n=e("f015"),a=e("fbeb");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("840c");var s=e("828b"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"6300b5bc",null,!1,n["a"],void 0);i["default"]=r.exports},"60fe":function(t,i,e){"use strict";e("6a54");var n=e("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e("2634")),o=n(e("2fdc"));e("64aa");var s={data:function(){return{show:!1,animationData:{},userInfo:{}}},props:{data:{type:[Object,String]},itemKey:{type:[Object,String,Number]},list:{type:Array,default:function(){return[{}]}}},onShow:function(){},computed:{chatList:function(){return this.$store.state.chatlist}},mounted:function(){var t=uni.createAnimation({duration:300,timingFunction:"linear"});this.animation=t,this.userInfo=uni.getStorageSync("userInfo")||{}},methods:{zhiding:function(){this.data.group_id&&this.data.group_id>0?this.editgroupinfoHttp():this.setfriendinfoHttp()},editgroupinfoHttp:function(){var t=this;return(0,o.default)((0,a.default)().mark((function i(){var e;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.data.is_top=1===t.data.is_top?0:1,e=t,i.next=4,t.$http({url:"/api/chatgroup/editgroupinfo",data:{id:e.data.group_id,is_top:e.data.is_top,notice:e.data.notice,group_nickname:e.data.group_nickname,group_remark:e.data.group_remark,group_name:e.data.group_name}});case 4:i.sent,t.socket.sendMsg({type:"groupchatlist",uid:t.userInfo.id});case 6:case"end":return i.stop()}}),i)})))()},setfriendinfoHttp:function(){var t=this;return(0,o.default)((0,a.default)().mark((function i(){var e;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.data.is_top=1===t.data.is_top?0:1,e=t,i.next=4,t.$http({url:"/api/chat/setfriendinfo",data:{to_uid:e.data.to_uid,is_top:e.data.is_top}});case 4:i.sent,t.socket.sendMsg({type:"groupchatlist",uid:t.userInfo.id});case 6:case"end":return i.stop()}}),i)})))()},chatgroupcleardataHttp:function(){var t=this;return(0,o.default)((0,a.default)().mark((function i(){var e;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e=t,i.next=3,t.$http({url:"/api/chatgroup/chatgroupcleardata",data:{group_id:e.data.group_id}});case 3:i.sent,t.socket.sendMsg({type:"groupchatlist",uid:t.userInfo.id});case 5:case"end":return i.stop()}}),i)})))()},friendinfocleardataHttp:function(){var t=this;return(0,o.default)((0,a.default)().mark((function i(){var e;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e=t,i.next=3,t.$http({url:"/api/chat/setfriendinfo",data:{to_uid:e.data.to_uid,clear_msg_time:1}});case 3:i.sent,t.socket.sendMsg({type:"groupchatlist",uid:t.userInfo.id});case 5:case"end":return i.stop()}}),i)})))()},shanchu:function(){this.data.group_id&&this.data.group_id>0?this.chatgroupcleardataHttp():this.friendinfocleardataHttp()},showAnimation:function(){this.animation.opacity(1).step(),this.animationData=this.animation.export()},hideAnimation:function(){this.animation.opacity(0).step(),this.animationData=this.animation.export()},moveHandle:function(t){this.hiddenTab()},showTab:function(){var t=this;this.show=!0,setTimeout((function(){t.showAnimation()}),30)},hiddenTab:function(){this.show=!1,this.hideAnimation()}}};i.default=s},6343:function(t,i,e){"use strict";e.r(i);var n=e("3106"),a=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},"655d":function(t,i,e){var n=e("4509");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("967d").default;a("3a31919e",n,!0,{sourceMap:!1,shadowMode:!1})},"6a7f":function(t,i,e){var n=e("c86c");i=n(!1),i.push([t.i,"@keyframes fade-data-v-48e3ce8f{from{        \n    /* opacity: 1.0; */color:#fff;background-color:#8000ff}30%{background-color:initial;color:#999}to{        \n    /* opacity: 1.0; */color:#fff;background-color:#8000ff}}@-webkit-keyframes fade-data-v-48e3ce8f{from{\n    /* opacity: 1.0; */color:#fff;background-color:#8000ff}30%{background-color:initial;color:#999}to{        \n    /* opacity: 1.0; */color:#fff;background-color:#8000ff}}.headerBox[data-v-48e3ce8f]{animation:fade-data-v-48e3ce8f 1.5s infinite;\n\t/* animation-delay: 1000ms; */-webkit-animation:fade-data-v-48e3ce8f 1.5s infinite;border:5px;padding:0 5px;line-height:25px}",""]),t.exports=i},7319:function(t,i,e){var n=e("c86c");i=n(!1),i.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.openTool[data-v-708da9e9]{width:100%;position:absolute;top:50%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.uni-list-chat[data-v-708da9e9]{font-size:16px;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;background-color:#fff;position:relative}.uni-list-chat--hover[data-v-708da9e9]{background-color:#f5f5f5}.uni-list--border[data-v-708da9e9]{position:relative;margin-left:15px}.uni-list--border[data-v-708da9e9]:after{position:absolute;top:0;right:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#e5e5e5}.uni-list-item--first[data-v-708da9e9]:after{height:0}.uni-list-chat--first[data-v-708da9e9]{border-top-width:0}.uni-ellipsis[data-v-708da9e9]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.uni-ellipsis-2[data-v-708da9e9]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.uni-list-chat__container[data-v-708da9e9]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:10px 15px;position:relative;overflow:hidden}.uni-list-chat__header-warp[data-v-708da9e9]{position:relative}.uni-list-chat__header[data-v-708da9e9]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-content:center;align-content:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;width:%?100?%;height:%?100?%;overflow:hidden;border-radius:50%}.uni-list-chat__header-box[data-v-708da9e9]{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;width:%?100?%;height:%?100?%;overflow:hidden;border-radius:50%}.uni-list-chat__header-image[data-v-708da9e9]{margin:1px;width:%?100?%;height:%?100?%}.uni-list-chat__header-image[data-v-708da9e9]{display:block;width:100%;height:100%}.avatarItem--1[data-v-708da9e9]{width:100%;height:100%}.avatarItem--2[data-v-708da9e9]{width:47%;height:47%}.avatarItem--3[data-v-708da9e9]{width:32%;height:32%}.header--circle[data-v-708da9e9]{border-radius:50%}.uni-list-chat__content[data-v-708da9e9]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;padding:2px 0}.uni-list-chat__content-main[data-v-708da9e9]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding-left:10px;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden}.uni-list-chat__content-title[data-v-708da9e9]{font-size:16px;color:#333;font-weight:400;overflow:hidden}.uni-list-chat__content-note[data-v-708da9e9]{margin-top:%?10?%;color:#999;font-size:12px;font-weight:400;overflow:hidden}.uni-list-chat__content-extra[data-v-708da9e9]{-webkit-flex-shrink:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;margin-left:5px}.uni-list-chat__content-extra-text[data-v-708da9e9]{color:#999;font-size:12px;font-weight:400;overflow:hidden}.uni-list-chat__badge-pos[data-v-708da9e9]{position:absolute;left:calc(%?100?% + 10px - 6px + 0px);top:calc(10px/ 2 + 1px + 0px)}.uni-list-chat__badge[data-v-708da9e9]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:100px;background-color:#ff5a5f}.uni-list-chat__badge-text[data-v-708da9e9]{color:#fff;font-size:12px;text-overflow:-o-ellipsis-lastline;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;max-width:21px}.uni-badge--single[data-v-708da9e9]{width:18px;height:18px}.uni-badge--complex[data-v-708da9e9]{width:auto;height:18px;padding:0 6px}.uni-badge--dot[data-v-708da9e9]{left:calc(%?100?% + 15px - 10px/ 2 + 1px + 0px);width:10px;height:10px;padding:0}',""]),t.exports=i},"7fe8":function(t,i,e){var n=e("c86c");i=n(!1),i.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.uni-list[data-v-1410dbe3]{display:-webkit-box;display:-webkit-flex;display:flex;background-color:#fff;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.uni-list--border[data-v-1410dbe3]{position:relative;z-index:-1}.uni-list--border-top[data-v-1410dbe3]{position:absolute;top:0;right:0;left:0;height:1px;-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#e5e5e5;z-index:1}.uni-list--border-bottom[data-v-1410dbe3]{position:absolute;bottom:0;right:0;left:0;height:1px;-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#e5e5e5}',""]),t.exports=i},"840c":function(t,i,e){"use strict";var n=e("655d"),a=e.n(n);a.a},"87e6":function(t,i,e){"use strict";var n=e("a90d"),a=e.n(n);a.a},9006:function(t,i,e){var n=e("7fe8");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("967d").default;a("0499e689",n,!0,{sourceMap:!1,shadowMode:!1})},9108:function(t,i,e){"use strict";e.r(i);var n=e("d4a8"),a=e("5319");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("87e6");var s=e("828b"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"708da9e9",null,!1,n["a"],void 0);i["default"]=r.exports},9806:function(t,i,e){"use strict";e("6a54");var n=e("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e("2634")),o=n(e("2fdc"));e("64aa"),e("c9b5"),e("bf0f"),e("ab80"),e("aa9c"),e("5ef2");var s=n(e("53ad")),r={components:{openTool:s.default},name:"UniListChatWx",emits:["click","longpressItem"],props:{color:{type:String,default:"#fff"},title:{type:String,default:""},note:{type:String,default:""},clickable:{type:Boolean,default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},badgeText:{type:[String,Number],default:""},badgePositon:{type:String,default:"right"},time:{type:String,default:""},avatarCircle:{type:Boolean,default:!1},avatar:{type:String,default:""},item:{type:Object,default:{}},itemKey:{type:Number},longTapItemKey:{type:[Number,String],default:""},windowType:{type:String,default:"SINGLE"}},computed:{isSingle:function(){if(1===this.info.msg_not_disturb||1===this.info.not_disturb)return"uni-badge--dot";var t=this.badgeText.toString();return t.length>1?"uni-badge--complex":"uni-badge--single"},avatarList:function(){return this.returnAvatar(this.item.group_avatar)},computedAvatar:function(){return this.avatarList.length>4?(this.imageWidth=13.95,"avatarItem--3"):this.avatarList.length>1?(this.imageWidth=21.15,"avatarItem--2"):(this.imageWidth=45,"avatarItem--1")}},data:function(){return{isFirstChild:!1,border:!0,imageWidth:50,info:this.item,options:[{text:this.$t("sc"),style:{backgroundColor:"#ED0400"}}],userInfo:{}}},mounted:function(){this.userInfo=uni.getStorageSync("userInfo")||{},this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0),this.border=this.list.border)},watch:{item:function(t){this.info=t}},methods:{returnAvatar:function(t){for(var i=[],e=0;e<t.length;e++)i.push({url:t[e].avatar});return i},longpressItem:function(t,i,e){this.$emit("longpressItem",t,i,e),this.itemKey==this.longTapItemKey&&this.$refs["toolx"+this.itemKey].showTab()},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniList",i=this.$parent,e=i.$options.name;while(e!==t){if(i=i.$parent,!i)return!1;e=i.$options.name}return i},onClick:function(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},openPage:function(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi:function(t){var i=this;uni[t]({url:this.to,success:function(t){i.$emit("click",{data:t})},fail:function(t){i.$emit("click",{data:t}),console.error(t.errMsg)}})},friendinfocleardataHttp:function(){var t=this;return(0,o.default)((0,a.default)().mark((function i(){var e;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e=t,i.next=3,t.$http({url:"/api/chat/deliminfo",data:{id:e.item.id}});case 3:i.sent,t.socket.sendMsg({type:"chatlist",uid:t.userInfo.id,backpage:null,to_uid:t.item.to_uid});case 5:case"end":return i.stop()}}),i)})))()},chatgroupcleardataHttp:function(){var t=this;return(0,o.default)((0,a.default)().mark((function i(){var e;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e=t,i.next=3,t.$http({url:"/api/chatgroup/chatgroupcleardata",data:{group_id:e.info.group_id}});case 3:i.sent,t.socket.sendMsg({type:"groupchatlist",uid:t.userInfo.id});case 5:case"end":return i.stop()}}),i)})))()},shanchu:function(){console.log("++++++++++++++"),this.info.group_id&&this.info.group_id>0?this.chatgroupcleardataHttp():this.friendinfocleardataHttp()}}};i.default=r},"9e73":function(t,i,e){"use strict";e("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={name:"uniListWx","mp-weixin":{options:{multipleSlots:!1}},props:{enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0}},created:function(){this.firstChildAppend=!1},methods:{loadMore:function(t){this.$emit("scrolltolower")}}};i.default=n},a3e9:function(t,i,e){"use strict";e.r(i);var n=e("60fe"),a=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},a488:function(t,i,e){var n=e("c86c");i=n(!1),i.push([t.i,".openTool-wx[data-v-8a7054ba]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-flex-wrap:wrap;flex-wrap:wrap;opacity:0;position:relative;z-index:2}.openTool-wx-model[data-v-8a7054ba]{background-color:transparent;position:fixed;top:0;bottom:0;right:0;left:0;z-index:1}.openTool-wx-list[data-v-8a7054ba]{width:100%;box-sizing:border-box;background-color:#fff;box-shadow:0 0 10px rgba(0,0,0,.3);border-radius:5px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.openTool-wx-list-item[data-v-8a7054ba]{padding:12px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.openTool-wx-list-item .text[data-v-8a7054ba]{color:#333;font-size:14px;-webkit-box-flex:1;-webkit-flex:1;flex:1}.openTool-wx-list-item:nth-last-child(1) .text[data-v-8a7054ba]{border:none}",""]),t.exports=i},a90d:function(t,i,e){var n=e("7319");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("967d").default;a("7dcc14d5",n,!0,{sourceMap:!1,shadowMode:!1})},ca30:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){}));var n=function(){var t=this.$createElement,i=this._self._c||t;return i("v-uni-view",{staticClass:"uni-list uni-border-top-bottom"},[this.border?i("v-uni-view",{staticClass:"uni-list--border-top"}):this._e(),this._t("default"),this.border?i("v-uni-view",{staticClass:"uni-list--border-bottom"}):this._e()],2)},a=[]},d4a8:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}));var n={uniSwipeAction:e("2447").default,uniSwipeActionItem:e("0ad0").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("uni-swipe-action",[e("uni-swipe-action-item",{attrs:{"right-options":"SINGLE"==t.windowType?t.options:[]},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.shanchu()}}},[e("v-uni-view",{staticClass:"uni-list-chat",style:{background:t.color},attrs:{"hover-class":t.clickable||t.link?"uni-list-chat--hover":""}},[e("v-uni-view",{staticClass:"uni-list-chat__container",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onClick.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"uni-list-chat__header-warp"},["SINGLE"==t.windowType||"STRANGER"==t.windowType?e("v-uni-view",{staticClass:"uni-list-chat__header",class:{"header--circle":t.avatarCircle}},[e("v-uni-image",{staticClass:"uni-list-chat__header-image",attrs:{src:t.info.to_avatar,mode:"aspectFill"}})],1):t._e(),"GROUP"==t.windowType?e("v-uni-view",{staticClass:"uni-list-chat__header",class:{"header--circle":t.avatarCircle}},[e("v-uni-image",{staticClass:"uni-list-chat__header-image",attrs:{src:t.info.group_avatar,mode:"aspectFill"}})],1):t._e()],1),t.badgeText?e("v-uni-view",{staticClass:"uni-list-chat__badge uni-list-chat__badge-pos",class:[t.isSingle]},[e("v-uni-text",{staticClass:"uni-list-chat__badge-text"},[t._v(t._s(1===t.info.msg_not_disturb||1===t.info.not_disturb?"":Number(t.badgeText)>100?"99+":t.badgeText))])],1):t._e(),e("v-uni-view",{staticClass:"uni-list-chat__content"},["SINGLE"==t.windowType||"STRANGER"==t.windowType?e("v-uni-view",{staticClass:"uni-list-chat__content-main"},[e("v-uni-text",{staticClass:"uni-list-chat__content-title uni-ellipsis"},[t._v(t._s(t.title))]),"text"==t.info.msg_type?e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v(t._s(t.info.title||t.info.content))]):t._e(),"audio"==t.info.msg_type?e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v(t._s(t.$t("yuyin")+t.info.audio_time+"''"))]):t._e(),"video"==t.info.msg_type?e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v("["+t._s(t.$t("ship"))+"]")]):t._e(),"image"==t.info.msg_type?e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v("["+t._s(t.$t("tup"))+"]")]):t._e(),"zzxyz"==t.info.msg_type?e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v(t._s("[转增信誉值]"))]):t._e(),"syxyz"==t.info.msg_type?e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v(t._s("[索要信誉值]"))]):t._e(),"location"==t.info.msg_type?e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v(t._s("[位置]"))]):t._e(),"spth"==t.info.msg_type?e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v(t._s("[视频通话]"))]):t._e(),"yyth"==t.info.msg_type?e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v(t._s("[语音通话]"))]):t._e()],1):t._e(),"GROUP"==t.windowType?e("v-uni-view",{staticClass:"uni-list-chat__content-main"},[e("v-uni-text",{staticClass:"uni-list-chat__content-title uni-ellipsis"},[t._v(t._s(t.title))]),"image"==t.info.msg_type?e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v("["+t._s(t.$t("tup"))+"]")]):"video"==t.info.msg_type?e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v("["+t._s(t.$t("ship"))+"]")]):"audio"==t.info.msg_type?e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v(t._s(t.$t("yuyin")+(t.info.lastmsg?JSON.parse(t.info.lastmsg).audio_time:"메시지")+"''"))]):e("v-uni-text",{staticClass:"uni-list-chat__content-note uni-ellipsis"},[t._v(t._s(t.info.lastmsg?JSON.parse(t.info.lastmsg).content:t.$t("wu")))])],1):t._e(),"SINGLE"==t.windowType||"STRANGER"==t.windowType?e("v-uni-view",{staticClass:"uni-list-chat__content-extra"},[t._t("default",[1===t.info.msg_not_disturb?e("v-uni-image",{staticClass:"wh40",attrs:{src:"/static/imgs/newsmdr.png",mode:""}}):t._e()])],2):t._e(),"GROUP"==t.windowType?e("v-uni-view",{staticClass:"uni-list-chat__content-extra"},[t._t("default",[1===t.info.not_disturb?e("v-uni-image",{staticClass:"wh40",attrs:{src:"/static/imgs/newsmdr.png",mode:""}}):t._e()])],2):t._e()],1)],1)],1)],1)],1)},o=[]},e5f6:function(t,i,e){"use strict";e.r(i);var n=e("3c54"),a=e("6343");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("30ac");var s=e("828b"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"48e3ce8f",null,!1,n["a"],void 0);i["default"]=r.exports},f015:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.show?e("v-uni-view",{on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i),t.moveHandle("touchmove")},click:function(i){arguments[0]=i=t.$handleEvent(i),t.moveHandle("click")}}},[e("v-uni-view",{staticClass:"top-right-tool-wx",style:{top:t.top},attrs:{animation:t.animationData}},[e("v-uni-view",{staticClass:"top-right-tool-wx-icon"}),e("v-uni-view",{staticClass:"top-right-tool-wx-list"},[e("v-uni-view",{staticClass:"top-right-tool-wx-list-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.saoyisao.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"text"},[t._v("扫码入群")])],1),e("v-uni-view",{staticClass:"top-right-tool-wx-list-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.groupChat.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"text"},[t._v("创建群聊")])],1)],1)],1),e("v-uni-view",{staticClass:"top-right-tool-wx-model"})],1):t._e()},a=[]},fb71:function(t,i,e){"use strict";e.r(i);var n=e("ca30"),a=e("3d60");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("52ee");var s=e("828b"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"1410dbe3",null,!1,n["a"],void 0);i["default"]=r.exports},fbeb:function(t,i,e){"use strict";e.r(i);var n=e("177c"),a=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a}}]);